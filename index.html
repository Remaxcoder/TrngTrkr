<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Trng Trkr</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
  <link rel="manifest" href="/TrngTrkr/manifest.json">
  <script src="steptracker.js"></script>
<meta name="theme-color" content="#000000">

  <meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<script>
  window.OneSignalDeferred = window.OneSignalDeferred || [];
  OneSignalDeferred.push(async function(OneSignal) {
    await OneSignal.init({
      appId: "254f82da-b02f-4d92-969d-8cf3ed46db7f",
      safari_web_id: "web.onesignal.auto.42873e37-42b9-4e5d-9423-af83e9e44ff4",
      serviceWorkerPath: "TrngTrkr/OneSignalSDKWorker.js", // 👈 use relative path from root
    serviceWorkerParam: {
      scope: "/TrngTrkr/" // 👈 this is KEY
    },
      notifyButton: {
        enable: false,
      },
    });
  });
  
</script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const button = document.getElementById('custom-subscribe-btn');
    if (button) {
      button.addEventListener('click', async () => {
        const permission = await OneSignal.Notification.requestPermission();
        if (permission === 'granted') {
          OneSignal.User.pushSubscription.optIn();
        }
      });
    }
  });
</script>

</head>
<body class="dark">

  <div class="container">

    <!-- Stats kort -->
    <div class="stats-row">
      <div class="stat-box"><strong>Bench</strong><br/><span>+15 %</span></div>
      <div class="stat-box"><strong>Curl</strong><br/><span>+20 %</span></div>
      <div class="stat-box"><strong>PR</strong><br/><span>+8 %</span></div>
      <div class="goal-box">
  <div class="goal-title">Mål</div>
  <button class="goal-plus" onclick="navigateTo('questionnaire.html')">+</button>
</div>

    </div>
<!--<div id="step-counter" class="circle-display">
  <div id="step-circle">0 skridt</div>
</div>-->

    <!-- Cirkel fremgang -->
    <div class="glass-box" id="circle-progress">
      <canvas id="circleChart"></canvas>
      <div class="circle-text">
        <div class="big">+0,9 cm</div>
        <div class="small">Denne måned</div>
      </div>
    </div>

    <!-- Søjlediagrammer -->
    <div class="chart-grid">
      <div class="chart-box glass-box">
        <p>kg (uge)</p>
        <canvas id="kgWeek"></canvas>
      </div>
      <div class="chart-box glass-box">
        <p>cm (uge)</p>
        <canvas id="cmWeek"></canvas>
      </div>
      <div class="chart-box glass-box">
        <p>kg (måned)</p>
        <canvas id="kgMonth"></canvas>
      </div>
      <div class="chart-box glass-box">
        <p>cm (måned)</p>
        <canvas id="cmMonth"></canvas>
      </div>
    </div>


    <!-- Knap -->
<button class="main-btn">Begynd denne uges</button>
<button id="custom-subscribe-btn"
  style="
    position: fixed;
    padding-top: 120px; 
    top: 22px;          /* Adjust this to sit below your menu icon */
    left: 15px;         /* Adjust this so it's aligned with the menu icon */
    background: transparent;
    border: none;
    z-index: 1000;
  ">
  <img src="noti192x2.png" width="48" height="48" alt="Notify Me">
</button>

  <!-- Hamburger ikon -->
  <div class="menu-icon" id="burgerMenu">
    <div class="menu-circle">
      <div class="bar"></div>
      <div class="bar"></div>
      <div class="bar"></div>
    </div>
  </div>
  

<!-- Side menu -->
    <div class="side-menu" id="sideMenu">
      <div class="menu-header">
        <div class="profile-avatar">
          <div class="avatar-circle"></div>
        </div>
        <div class="profile-name">Trænings Profil</div>
      </div>
      <nav>
        <ul>
          <li><a onclick="navigateTo('index.html')"><span class="icon">🏠</span>Hjem</a></li>
          <li class="active"><a onclick="navigateTo('maal.html')"><span class="icon">🎯</span>Mål</a></li>
          <li><a href="#"><span class="icon">📊</span>Statistik</a></li>
          <li><a href="#"><span class="icon">ℹ️</span>Om</a></li>
          <li><a href="#"><span class="icon">⚙️</span>Indstillinger</a></li>
        </ul>
      </nav>
    </div>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="script.js"></script>
</body>
</html>
